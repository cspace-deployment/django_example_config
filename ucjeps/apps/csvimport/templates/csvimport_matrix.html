{% spaceless %}
    {% load staticfiles %}
    <script>
        $(document).ready(function () {
            $('#matrix').tablesorter({
                theme: 'blue',
                headers: {
                    1: {sorter: 'sortkey'}
                }
            });
        });
    </script>
    {%  if matrix %}
    <h2>{{ filename }}</h2>
    {% if message %}
        <h4>{{ message }}</h4>
        <hr/>
    {% endif %}
    <table cellspace="1" id="matrix" class="tablesorter">
        <thead>
        <tr>
            {% for header in labels %}
                <th>{{ header }}</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for row in matrix %}
            <tr>
                {% for cell in row %}
                    <td>
                        {% if forloop.counter0 == keyrow %}
                            {{ cell }}
                        {% else %}
                            {{ cell }}
                        {% endif %}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <h4>({{ matrix|length }} rows in this table.)</h4>
    {% endif %}
{% endspaceless %}